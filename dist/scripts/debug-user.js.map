{"version":3,"sources":["../../src/scripts/debug-user.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\nconst prisma = new PrismaClient();\n\nasync function main() {\n  const email = 'tathagat.saha@gmail.com';\n  console.log(`Checking user: ${email}`);\n  \n  const user = await prisma.user.findUnique({\n    where: { email },\n    include: {\n      parentOf: {\n        include: {\n          student: {\n            select: {\n              id: true,\n              name: true,\n              email: true,\n              role: true\n            }\n          }\n        }\n      },\n      parentRequests: true\n    }\n  });\n  \n  if (!user) {\n    console.log('User not found');\n  } else {\n    console.log('User found:', {\n      id: user.id,\n      name: user.name,\n      role: user.role,\n      parentOfCount: user.parentOf.length,\n      parentRequestsCount: user.parentRequests.length\n    });\n    console.log('Links:', JSON.stringify(user.parentOf, null, 2));\n    console.log('Requests:', JSON.stringify(user.parentRequests, null, 2));\n  }\n}\n\nmain()\n  .catch(console.error)\n  .finally(async () => {\n    await prisma.$disconnect();\n  });\n"],"names":["prisma","PrismaClient","main","email","console","log","user","findUnique","where","include","parentOf","student","select","id","name","role","parentRequests","parentOfCount","length","parentRequestsCount","JSON","stringify","catch","error","finally","$disconnect"],"mappings":";;;;wBAA6B;AAC7B,MAAMA,SAAS,IAAIC,oBAAY;AAE/B,eAAeC;IACb,MAAMC,QAAQ;IACdC,QAAQC,GAAG,CAAC,CAAC,eAAe,EAAEF,OAAO;IAErC,MAAMG,OAAO,MAAMN,OAAOM,IAAI,CAACC,UAAU,CAAC;QACxCC,OAAO;YAAEL;QAAM;QACfM,SAAS;YACPC,UAAU;gBACRD,SAAS;oBACPE,SAAS;wBACPC,QAAQ;4BACNC,IAAI;4BACJC,MAAM;4BACNX,OAAO;4BACPY,MAAM;wBACR;oBACF;gBACF;YACF;YACAC,gBAAgB;QAClB;IACF;IAEA,IAAI,CAACV,MAAM;QACTF,QAAQC,GAAG,CAAC;IACd,OAAO;QACLD,QAAQC,GAAG,CAAC,eAAe;YACzBQ,IAAIP,KAAKO,EAAE;YACXC,MAAMR,KAAKQ,IAAI;YACfC,MAAMT,KAAKS,IAAI;YACfE,eAAeX,KAAKI,QAAQ,CAACQ,MAAM;YACnCC,qBAAqBb,KAAKU,cAAc,CAACE,MAAM;QACjD;QACAd,QAAQC,GAAG,CAAC,UAAUe,KAAKC,SAAS,CAACf,KAAKI,QAAQ,EAAE,MAAM;QAC1DN,QAAQC,GAAG,CAAC,aAAae,KAAKC,SAAS,CAACf,KAAKU,cAAc,EAAE,MAAM;IACrE;AACF;AAEAd,OACGoB,KAAK,CAAClB,QAAQmB,KAAK,EACnBC,OAAO,CAAC;IACP,MAAMxB,OAAOyB,WAAW;AAC1B"}