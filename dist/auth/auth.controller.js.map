{"version":3,"sources":["../../src/auth/auth.controller.ts"],"sourcesContent":["import { Controller, Post, Body, UnauthorizedException } from '@nestjs/common';\nimport { AuthService } from './auth.service';\n\n@Controller('auth')\nexport class AuthController {\n  constructor(private authService: AuthService) {}\n\n  @Post('login')\n  async login(@Body() loginDto: any) {\n    const user = await this.authService.validateUser(\n      loginDto.email,\n      loginDto.password,\n    );\n    if (!user) {\n      throw new UnauthorizedException('Invalid credentials');\n    }\n    return this.authService.login(user);\n  }\n\n  @Post('register')\n  async register(@Body() registerDto: any) {\n    return this.authService.register(registerDto);\n  }\n\n  @Post('logout')\n  async logout(@Body() body: { userId: string }) {\n    // Simplified: usually would use Guard, but using ID for now if token not passed?\n    // Actually, better to use Guard and Request user id\n    // Since UseGuards is not imported, let's fix imports\n    return this.authService.logout(body.userId);\n  }\n}\n"],"names":["AuthController","login","loginDto","user","authService","validateUser","email","password","UnauthorizedException","register","registerDto","logout","body","userId"],"mappings":";;;;+BAIaA;;;eAAAA;;;wBAJiD;6BAClC;;;;;;;;;;;;;;;AAGrB,IAAA,AAAMA,iBAAN,MAAMA;IAGX,MACMC,MAAM,AAAQC,QAAa,EAAE;QACjC,MAAMC,OAAO,MAAM,IAAI,CAACC,WAAW,CAACC,YAAY,CAC9CH,SAASI,KAAK,EACdJ,SAASK,QAAQ;QAEnB,IAAI,CAACJ,MAAM;YACT,MAAM,IAAIK,6BAAqB,CAAC;QAClC;QACA,OAAO,IAAI,CAACJ,WAAW,CAACH,KAAK,CAACE;IAChC;IAEA,MACMM,SAAS,AAAQC,WAAgB,EAAE;QACvC,OAAO,IAAI,CAACN,WAAW,CAACK,QAAQ,CAACC;IACnC;IAEA,MACMC,OAAO,AAAQC,IAAwB,EAAE;QAC7C,iFAAiF;QACjF,oDAAoD;QACpD,qDAAqD;QACrD,OAAO,IAAI,CAACR,WAAW,CAACO,MAAM,CAACC,KAAKC,MAAM;IAC5C;IAzBA,YAAY,AAAQT,WAAwB,CAAE;aAA1BA,cAAAA;IAA2B;AA0BjD"}