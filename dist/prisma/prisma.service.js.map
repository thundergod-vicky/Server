{"version":3,"sources":["../../src/prisma/prisma.service.ts"],"sourcesContent":["import { Injectable, OnModuleInit } from '@nestjs/common';\nimport { PrismaClient } from '@prisma/client';\nimport { PrismaPg } from '@prisma/adapter-pg';\nimport { Pool } from 'pg';\n\n@Injectable()\nexport class PrismaService extends PrismaClient implements OnModuleInit {\n  constructor() {\n    const pool = new Pool({ connectionString: process.env.DATABASE_URL });\n    const adapter = new PrismaPg(pool);\n    super({ adapter } as any);\n  }\n\n  async onModuleInit() {\n    await this.$connect();\n  }\n}\n"],"names":["PrismaService","PrismaClient","onModuleInit","$connect","pool","Pool","connectionString","process","env","DATABASE_URL","adapter","PrismaPg"],"mappings":";;;;+BAMaA;;;eAAAA;;;wBAN4B;wBACZ;2BACJ;oBACJ;;;;;;;;;;AAGd,IAAA,AAAMA,gBAAN,MAAMA,sBAAsBC,oBAAY;IAO7C,MAAMC,eAAe;QACnB,MAAM,IAAI,CAACC,QAAQ;IACrB;IARA,aAAc;QACZ,MAAMC,OAAO,IAAIC,QAAI,CAAC;YAAEC,kBAAkBC,QAAQC,GAAG,CAACC,YAAY;QAAC;QACnE,MAAMC,UAAU,IAAIC,mBAAQ,CAACP;QAC7B,KAAK,CAAC;YAAEM;QAAQ;IAClB;AAKF"}